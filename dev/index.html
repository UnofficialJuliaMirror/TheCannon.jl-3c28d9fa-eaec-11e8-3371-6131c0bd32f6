<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>- · The Cannon.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>The Cannon.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>-</a><ul class="internal"><li><a class="toctext" href="#functions-1">functions</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>-</a></li></ul><a class="edit-page" href="https://github.com/ajwheeler/TheCannon.jl/blob/master/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>-</span><a class="fa fa-bars" href="#"></a></div></header><h2><a class="nav-anchor" id="functions-1" href="#functions-1">functions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TheCannon.expanded_size" href="#TheCannon.expanded_size"><code>TheCannon.expanded_size</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">expandeded_size(nlabels; quadratic=true)</code></pre><p>The length of a label vector of length <code>nlabels</code> after it has been  quadratically expanded.</p><p>See also: <a href="#TheCannon.collapsed_size"><code>collapsed_size</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/ajwheeler/TheCannon.jl/blob/cb954fe16ee9714a35896cc39a8fb7f220b29d4c/src/TheCannon.jl#L16-L24">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TheCannon.collapsed_size" href="#TheCannon.collapsed_size"><code>TheCannon.collapsed_size</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">collapsed_size(nelabels; quadratic=true)</code></pre><p>The length of a label vector corresponding to an expanded label  vector of length nelabels.</p><p>See also: <a href="#TheCannon.expanded_size"><code>expanded_size</code></a></p></div></div><a class="source-link" target="_blank" href="https://github.com/ajwheeler/TheCannon.jl/blob/cb954fe16ee9714a35896cc39a8fb7f220b29d4c/src/TheCannon.jl#L33-L41">source</a></section><div class="admonition warning"><div class="admonition-title">Missing docstring.</div><div class="admonition-text"><p>Missing docstring for <code>expand_labels</code>. Check Documenter&#39;s build log for details.</p></div></div><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TheCannon.standardize_labels" href="#TheCannon.standardize_labels"><code>TheCannon.standardize_labels</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Transform the label matrix (<code>nstars x nlabels</code>) live roughly in [-1, 1] by subtractive the mean and dividing by the scatter. returns <code>(standardized_labels, pivots, scales)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/ajwheeler/TheCannon.jl/blob/cb954fe16ee9714a35896cc39a8fb7f220b29d4c/src/TheCannon.jl#L95-L99">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TheCannon.unstandardize_labels" href="#TheCannon.unstandardize_labels"><code>TheCannon.unstandardize_labels</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Transform labels back to their original scale.</p></div></div><a class="source-link" target="_blank" href="https://github.com/ajwheeler/TheCannon.jl/blob/cb954fe16ee9714a35896cc39a8fb7f220b29d4c/src/TheCannon.jl#L106-L108">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TheCannon.train" href="#TheCannon.train"><code>TheCannon.train</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">train(flux, ivar, labels)</code></pre><p>returns: theta, scatters Run the training step of The Cannon, i.e. calculate coefficients for each pixel.</p><ul><li><code>flux</code> contains the spectra for each star in the training set.  It should be   <code>nstars x npixels</code> (row-vectors are spectra)</li><li><code>ivar</code> contains the inverse variance for each pixel in the same shape as <code>flux</code></li><li><code>labels</code> contains the labels for each star.  It should be <code>nstars x nlabels</code>.  It will be expanded into the quadratic label space before training.</li></ul><p>returns:</p><ul><li><code>theta</code>: the matrix containing the cannon coefficients.  It will be <code>n_expanded_labels x npix</code></li><li><code>scatters</code>: the model scatter at each pixel</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/ajwheeler/TheCannon.jl/blob/cb954fe16ee9714a35896cc39a8fb7f220b29d4c/src/TheCannon.jl#L123-L137">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TheCannon.infer" href="#TheCannon.infer"><code>TheCannon.infer</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>infer(flux, ivar, theta, scatters)</p><p>Run the test step of the cannon.  Given <code>theta</code> and <code>scatters</code> (from training), infer stellar parameters.</p><ul><li><code>flux</code> contains the spectra for each star for which you want to infer labels </li></ul><p>in the training set.  It should be <code>nstars x npixels</code> (row-vectors are spectra)</p><ul><li><code>ivar</code> contains the inverse variance for each pixel in the same shape as <code>flux</code></li><li><code>theta</code>: the matrix containing the cannon coefficients.  It will be <code>n_expanded_labels x npix</code></li><li><code>scatters</code>: the model scatter at each pixel</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/ajwheeler/TheCannon.jl/blob/cb954fe16ee9714a35896cc39a8fb7f220b29d4c/src/TheCannon.jl#L179-L189">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TheCannon.quad_coeff_matrix" href="#TheCannon.quad_coeff_matrix"><code>TheCannon.quad_coeff_matrix</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>Get the quadratic terms of theta as matrices. returns an array of dimensions nlabels x nlabels x npixels ``` Q = quad<em>coeff</em>matrix(theta) Q[:, :, 1] #quadratic coefficients for first pixel 111</p></div></div><a class="source-link" target="_blank" href="https://github.com/ajwheeler/TheCannon.jl/blob/cb954fe16ee9714a35896cc39a8fb7f220b29d4c/src/TheCannon.jl#L70-L77">source</a></section><footer><hr/></footer></article></body></html>
